# Mosquitto MQTT Broker Configuration
# Akıllı Tarım Sistemi

# ============================================
# Listener Configuration
# ============================================

# Default MQTT listener
listener 1883
protocol mqtt

# WebSocket listener (for web clients)
listener 9001
protocol websockets

# ============================================
# Security Configuration
# ============================================

# Anonymous access (development mode)
# Prodüksiyon için: allow_anonymous false + password_file
allow_anonymous true

# Uncomment for authentication:
# allow_anonymous false
# password_file /mosquitto/config/passwd

# ============================================
# Persistence Configuration
# ============================================

persistence true
persistence_location /mosquitto/data/
autosave_interval 60

# ============================================
# Logging Configuration
# ============================================

log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
connection_messages true
log_timestamp true

# ============================================
# Connection Settings
# ============================================

# Maximum connections (0 = unlimited)
max_connections -1

# Keep alive interval
max_keepalive 120

# Message size limit (256KB)
message_size_limit 262144
